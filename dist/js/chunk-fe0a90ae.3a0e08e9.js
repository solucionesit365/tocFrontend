(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fe0a90ae"],{8287:function(a,t,o){"use strict";o.r(t);var e=o("7a23");function n(a,t,o,n,r,c){var d=Object(e["F"])("MenuResponsableTienda",!0);return Object(e["x"])(),Object(e["e"])(d)}var r=function(a){return Object(e["A"])("data-v-73f04d94"),a=a(),Object(e["y"])(),a},c={class:"row mt-2 ms-2"},d={class:"col"},i=Object(e["i"])('<div class="card-body" data-v-73f04d94><span class="card-title sizeBotonesTitulo" data-v-73f04d94>1. Nuevo plan trabajador/a</span><p class="card-text" data-v-73f04d94><svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" fill="currentColor" class="bi bi-person-plus" viewBox="0 0 16 16" data-v-73f04d94><path d="M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H1s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C9.516 10.68 8.289 10 6 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z" data-v-73f04d94></path><path fill-rule="evenodd" d="M13.5 5a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5z" data-v-73f04d94></path></svg></p></div>',1),s=[i],l=Object(e["i"])('<div class="card-body" data-v-73f04d94><span class="card-title sizeBotonesTitulo" data-v-73f04d94>2. Validar horas</span><p class="card-text" data-v-73f04d94><svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" fill="currentColor" class="bi bi-clock mt-1" viewBox="0 0 16 16" data-v-73f04d94><path d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z" data-v-73f04d94></path><path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z" data-v-73f04d94></path></svg></p></div>',1),u=[l],b={class:"modal fade",id:"crearPlanModal",tabindex:"-1"},p={class:"modal-dialog",style:{"max-width":"700px"}},h={class:"modal-content"},f=r((function(){return Object(e["h"])("div",{class:"modal-header"},[Object(e["h"])("h5",{class:"modal-title"},"Nuevo plan de trabajador"),Object(e["h"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)})),v={class:"modal-body"},j={class:"row"},O={class:"col"},m=r((function(){return Object(e["h"])("label",{for:"customRange3",class:"form-label",style:{"font-size":"1.5rem"}},"Hora entrada",-1)})),C={class:"row"},g={class:"col"},y=Object(e["i"])("<option selected data-v-73f04d94>04</option><option data-v-73f04d94>05</option><option data-v-73f04d94>06</option><option data-v-73f04d94>07</option><option data-v-73f04d94>08</option><option data-v-73f04d94>09</option><option data-v-73f04d94>10</option><option data-v-73f04d94>11</option><option data-v-73f04d94>12</option><option data-v-73f04d94>13</option><option data-v-73f04d94>14</option><option data-v-73f04d94>15</option><option data-v-73f04d94>16</option><option data-v-73f04d94>17</option><option data-v-73f04d94>18</option><option data-v-73f04d94>19</option>",16),w=[y],x={class:"col"},E=r((function(){return Object(e["h"])("option",{selected:""},"00",-1)})),k=r((function(){return Object(e["h"])("option",null,"30",-1)})),R=[E,k],T={class:"row"},M={class:"col"},V=r((function(){return Object(e["h"])("label",{for:"customRange3",class:"form-label",style:{"font-size":"1.5rem"}},"Hora salida",-1)})),H={class:"row"},A={class:"col"},I=Object(e["i"])("<option selected data-v-73f04d94>04</option><option data-v-73f04d94>05</option><option data-v-73f04d94>06</option><option data-v-73f04d94>07</option><option data-v-73f04d94>08</option><option data-v-73f04d94>09</option><option data-v-73f04d94>10</option><option data-v-73f04d94>11</option><option data-v-73f04d94>12</option><option data-v-73f04d94>13</option><option data-v-73f04d94>14</option><option data-v-73f04d94>15</option><option data-v-73f04d94>16</option><option data-v-73f04d94>17</option><option data-v-73f04d94>18</option><option data-v-73f04d94>19</option><option data-v-73f04d94>20</option><option data-v-73f04d94>21</option><option data-v-73f04d94>22</option><option data-v-73f04d94>23</option><option data-v-73f04d94>00</option>",21),z=[I],N={class:"col"},S=r((function(){return Object(e["h"])("option",{selected:""},"00",-1)})),P=r((function(){return Object(e["h"])("option",null,"30",-1)})),U=[S,P],B={class:"modal-footer"},D=r((function(){return Object(e["h"])("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal"},"Cerrar",-1)})),q={type:"submit",class:"btn btn-success"},X={class:"modal fade",id:"validarHorasModal",tabindex:"-1"},_={class:"modal-dialog",style:{"max-width":"1200px"}},J={class:"modal-content"},F=r((function(){return Object(e["h"])("div",{class:"modal-header"},[Object(e["h"])("h5",{class:"modal-title"},"Validar horas del trabajador"),Object(e["h"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)})),K={class:"modal-body"},L={key:0,class:"table table-striped"},G=r((function(){return Object(e["h"])("thead",null,[Object(e["h"])("tr",null,[Object(e["h"])("th",{scope:"col"},"Trabajador/a"),Object(e["h"])("th",{scope:"col"},"Horas asignadas"),Object(e["h"])("th",{scope:"col"},"Horas extras"),Object(e["h"])("th",{scope:"col"},"Horas coordinaciÃ³n"),Object(e["h"])("th",{scope:"col"},"Horas totales")])],-1)})),Q={scope:"row"},W=r((function(){return Object(e["h"])("td",null,"0",-1)})),Y={class:"def-number-input number-input safari_only"},Z=["onClick"],$=["onUpdate:modelValue"],aa=["onClick"],ta={class:"def-number-input number-input safari_only"},oa=["onClick"],ea=["onUpdate:modelValue"],na=["onClick"],ra={key:1,class:"col text-center"},ca=r((function(){return Object(e["h"])("h1",null,"No hay trabajadores fichados de ayer.",-1)})),da=[ca],ia=r((function(){return Object(e["h"])("div",{class:"modal-footer"},[Object(e["h"])("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal"},"Cerrar")],-1)})),sa={class:"position-fixed bottom-0 start-0 ms-2 mb-2"};function la(a,t,o,n,r,i){return Object(e["x"])(),Object(e["g"])(e["a"],null,[Object(e["h"])("div",c,[Object(e["h"])("div",d,[Object(e["h"])("div",{onClick:t[0]||(t[0]=function(a){return n.abrirModalPlanes()}),class:"card text-white bg-primary mb-3",style:{"max-width":"18rem"}},s),Object(e["h"])("div",{onClick:t[1]||(t[1]=function(a){return n.abrirModalValidarHoras()}),class:"card text-white bg-success mb-3",style:{"max-width":"18rem"}},u)])]),Object(e["h"])("div",b,[Object(e["h"])("div",p,[Object(e["h"])("div",h,[Object(e["h"])("form",{onSubmit:t[6]||(t[6]=Object(e["S"])((function(a){return n.crearPlan()}),["prevent"]))},[f,Object(e["h"])("div",v,[Object(e["h"])("div",j,[Object(e["h"])("div",O,[m,Object(e["h"])("div",C,[Object(e["h"])("div",g,[Object(e["R"])(Object(e["h"])("select",{"onUpdate:modelValue":t[2]||(t[2]=function(a){return n.horaEntrada=a}),class:"form-select"},w,512),[[e["M"],n.horaEntrada]])]),Object(e["h"])("div",x,[Object(e["R"])(Object(e["h"])("select",{"onUpdate:modelValue":t[3]||(t[3]=function(a){return n.minutosEntrada=a}),class:"form-select"},R,512),[[e["M"],n.minutosEntrada]])])])])]),Object(e["h"])("div",T,[Object(e["h"])("div",M,[V,Object(e["h"])("div",H,[Object(e["h"])("div",A,[Object(e["R"])(Object(e["h"])("select",{"onUpdate:modelValue":t[4]||(t[4]=function(a){return n.horaSalida=a}),class:"form-select"},z,512),[[e["M"],n.horaSalida]])]),Object(e["h"])("div",N,[Object(e["R"])(Object(e["h"])("select",{"onUpdate:modelValue":t[5]||(t[5]=function(a){return n.minutosSalida=a}),class:"form-select"},U,512),[[e["M"],n.minutosSalida]])])])])])]),Object(e["h"])("div",B,[D,Object(e["h"])("button",q,"Crear plan "+Object(e["I"])(n.getResumenPlan),1)])],32)])])]),Object(e["h"])("div",X,[Object(e["h"])("div",_,[Object(e["h"])("div",J,[F,Object(e["h"])("div",K,[n.arrayTrabajadores.length>0?(Object(e["x"])(),Object(e["g"])("table",L,[G,Object(e["h"])("tbody",null,[(Object(e["x"])(!0),Object(e["g"])(e["a"],null,Object(e["D"])(n.arrayTrabajadores,(function(a,t){return Object(e["x"])(),Object(e["g"])("tr",{key:t},[Object(e["h"])("th",Q,Object(e["I"])(n.arrayTrabajadores[t].nombre),1),W,Object(e["h"])("td",null,[Object(e["h"])("div",Y,[Object(e["h"])("button",{class:"minus",onClick:function(a){return n.restar("EXTRA",t)}},null,8,Z),Object(e["R"])(Object(e["h"])("input",{class:"quantity",disabled:"",min:"-5",name:"quantity","onUpdate:modelValue":function(t){return a.horasExtra=t},type:"number"},null,8,$),[[e["N"],a.horasExtra]]),Object(e["h"])("button",{class:"plus",onClick:function(a){return n.sumar("EXTRA",t)}},null,8,aa)])]),Object(e["h"])("td",null,[Object(e["h"])("div",ta,[Object(e["h"])("button",{class:"minus",onClick:function(a){return n.restar("COORDINACION",t)}},null,8,oa),Object(e["R"])(Object(e["h"])("input",{class:"quantity",disabled:"",min:"-5",name:"quantity","onUpdate:modelValue":function(t){return a.horasCoordinacion=t},type:"number"},null,8,ea),[[e["N"],a.horasCoordinacion]]),Object(e["h"])("button",{class:"plus",onClick:function(a){return n.sumar("COORDINACION",t)}},null,8,na)])]),Object(e["h"])("td",null,Object(e["I"])(a.horasExtra+a.horasCoordinacion),1)])})),128))])])):(Object(e["x"])(),Object(e["g"])("div",ra,da))]),ia])])]),Object(e["h"])("div",sa,[Object(e["h"])("button",{class:"btn btn-warning buttonSizeTecnico",onClick:t[7]||(t[7]=function(a){return n.volver()})},"Volver")])],64)}o("99af");var ua=o("bc3a"),ba=o.n(ua),pa=o("7b17"),ha=o("a18c"),fa=o("0180"),va={name:"MenuResponsable",setup:function(){var a=Object(fa["b"])(),t=null,o=null,n=Object(e["C"])("04"),r=Object(e["C"])("00"),c=Object(e["C"])("04"),d=Object(e["C"])("00"),i=Object(e["C"])([]),s=Object(e["C"])(0),l=Object(e["C"])(0),u=Object(e["c"])((function(){return l.value+s.value}));function b(a){ha["a"].push(a)}function p(){var t="".concat(n.value,":").concat(r.value),o="".concat(c.value,":").concat(d.value);ba.a.post("trabajadores/crearPlan",{horaEntrada:t,horaSalida:o}).then((function(t){0==t.data.error?a.success("Plan OK"):a.error(t.data.mensaje)}))["catch"]((function(t){console.log(t),a.error("Error, mirar consola")}))}function h(a){t.show()}function f(a){o.show()}function v(t,o,e,n,r){ba.a.post("trabajadores/guardarHorasExtraCoordinacion",{horasExtra:o,horasCoordinacion:e,timestamp:n,idTrabajador:r}).then((function(n){0==n.data.error?(i.value[t].horasExtra=o,i.value[t].horasCoordinacion=e):a.error(n.data.mensaje)}))["catch"]((function(t){console.log(t),a.error("Error en CATCH trabajadores/guardarHorasExtraCoordinacion")}))}function j(a,t){var o=i.value[t].horasCoordinacion,e=i.value[t].horasExtra;switch(a){case"COORDINACION":o+=.5;break;case"EXTRA":e+=.5;break}v(t,e,o,i.value[t].timestamp,i.value[t].idTrabajador)}function O(a,t){var o=i.value[t].horasCoordinacion,e=i.value[t].horasExtra;switch(a){case"COORDINACION":o-=.5;break;case"EXTRA":e-=.5;break}v(t,e,o,i.value[t].timestamp,i.value[t].idTrabajador)}function m(){ha["a"].push("/menu/fichajes")}var C=Object(e["c"])((function(){return"".concat(n.value,":").concat(r.value," - ").concat(c.value,":").concat(d.value)}));return Object(e["v"])((function(){t=new pa["a"](document.getElementById("crearPlanModal"),{keyboard:!1}),o=new pa["a"](document.getElementById("validarHorasModal"),{keyboard:!1}),ba.a.get("trabajadores/getTrabajaronAyer").then((function(a){console.log(a.data),i.value=a.data}))["catch"]((function(t){console.log(t),a.error("Error, no se ha podido obtener la lista de trabajadores de ayer")}))})),{guardarHorasExtraCoordinacion:v,horasTotales:u,horasExtra:l,horasCoordinacion:s,sumar:j,restar:O,arrayTrabajadores:i,abrirModalValidarHoras:f,volver:m,crearPlan:p,getResumenPlan:C,horaEntrada:n,horaSalida:c,minutosEntrada:r,minutosSalida:d,goTo:b,abrirModalPlanes:h}}},ja=(o("b027"),o("d959")),Oa=o.n(ja);const ma=Oa()(va,[["render",la],["__scopeId","data-v-73f04d94"]]);var Ca=ma,ga={name:"MenuResponsable",components:{MenuResponsableTienda:Ca}};const ya=Oa()(ga,[["render",n]]);t["default"]=ya},9249:function(a,t,o){},"99af":function(a,t,o){"use strict";var e=o("23e7"),n=o("da84"),r=o("d039"),c=o("e8b5"),d=o("861d"),i=o("7b0b"),s=o("07fa"),l=o("8418"),u=o("65f0"),b=o("1dde"),p=o("b622"),h=o("2d00"),f=p("isConcatSpreadable"),v=9007199254740991,j="Maximum allowed index exceeded",O=n.TypeError,m=h>=51||!r((function(){var a=[];return a[f]=!1,a.concat()[0]!==a})),C=b("concat"),g=function(a){if(!d(a))return!1;var t=a[f];return void 0!==t?!!t:c(a)},y=!m||!C;e({target:"Array",proto:!0,forced:y},{concat:function(a){var t,o,e,n,r,c=i(this),d=u(c,0),b=0;for(t=-1,e=arguments.length;t<e;t++)if(r=-1===t?c:arguments[t],g(r)){if(n=s(r),b+n>v)throw O(j);for(o=0;o<n;o++,b++)o in r&&l(d,b,r[o])}else{if(b>=v)throw O(j);l(d,b++,r)}return d.length=b,d}})},b027:function(a,t,o){"use strict";o("9249")}}]);
//# sourceMappingURL=chunk-fe0a90ae.3a0e08e9.js.map