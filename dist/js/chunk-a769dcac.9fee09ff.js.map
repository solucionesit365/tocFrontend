{"version":3,"sources":["webpack:///./src/components/Caja.vue?3a3f","webpack:///./src/components/Caja.vue","webpack:///./src/components/Caja.vue?f8e0"],"names":["class","to","NoEntradaDiners","name","setup","activo","total","listaTickets","ticketInfo","goTo","url","router","push","imprimirTicket","value","a","post","idTicket","console","log","then","arrayTickets","i","data","length","res","undefined","parametros","moment","__exports__","render"],"mappings":"2IAAA,W,4DCCOA,MAAM,+B,GACJA,MAAM,O,GAQJA,MAAM,O,iBAGuD,a,GAI7DA,MAAM,O,iBAGuD,sB,GAK7DA,MAAM,O,iBAI0D,0B,iBAOA,uB,GAMhEA,MAAM,O,iBAGiD,iB,GAKzDA,MAAM,O,oHAjDb,eAoDM,MApDN,EAoDM,CAnDJ,eA+CM,MA/CN,EA+CM,CAvCJ,eAMM,MANN,EAMM,CALJ,eAIc,GAJDC,GAAG,qBAAqBD,MAAM,qE,yBAEqB,iBAEhE,C,cAEF,eAMM,MANN,EAMM,CALJ,eAIc,GAJDC,GAAG,oBAAoBD,MAAM,qE,yBAEsB,iBAEhE,C,cAGF,eAeM,MAfN,EAeM,CAdY,EAAAE,iB,iBAChB,eAIc,G,MAJDD,GAAG,GAAGD,MAAM,qE,yBAE0C,iBAEnE,C,+BAGE,eAIc,G,MAJDC,GAAG,qBAAqBD,MAAM,qE,yBAEsB,iBAEjE,C,eAIJ,eAMM,MANN,EAMM,CALJ,eAIc,GAJDC,GAAG,yBAAyBD,MAAM,2E,yBAEW,iBAE1D,C,gBAGJ,eAEM,MAFN,EAEM,CADJ,eAA2B,O,oGAgBlB,G,UAAA,CACbG,KAAM,OACNC,MAFa,WAGX,IAAMC,EAAS,eAAI,MACbC,EAAQ,eAAI,GACZC,EAAe,eAAI,IACnBC,EAAa,eAAI,MAEjBN,GADQ,iBACU,gBAAI,IAQ5B,SAASO,EAAKC,GACZC,EAAA,KAAOC,KAAKF,GAGd,SAASG,IACa,MAAhBR,EAAOS,OACT,EAAAC,EAAMC,KAAK,2BAA4B,CAAEC,SAAUZ,EAAOS,QAC1DL,EAAK,MAELS,QAAQC,IAAI,gCA6BhB,OAxBA,gBAAU,WACR,EAAAJ,EAAMC,KAAK,+BAA+BI,MAAK,SAACC,GAC9Cf,EAAMQ,MAAQ,EACd,IAAK,IAAIQ,EAAI,EAAGA,EAAID,EAAaE,KAAKC,OAAQF,GAAK,EACjDhB,EAAMQ,OAASO,EAAaE,KAAKD,GAAGhB,MAItC,EAAAS,EAAMC,KAAK,4BAA4BI,MAAK,SAACK,QACDC,GAAvCD,EAAIF,KAAKI,WAAWzB,gBACqB,MAAvCuB,EAAIF,KAAKI,WAAWzB,kBACrBA,EAAgBY,OAAQ,GAGxBZ,EAAgBY,OAAQ,KAM9BP,EAAaO,MAAQO,EAAaE,WAI/B,CACLd,OACAF,eACAF,SACAC,QACAsB,OAAA,IACApB,aACAK,iBACAX,sB,iCC1HN,MAAM2B,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E","file":"js/chunk-a769dcac.9fee09ff.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Caja.vue?vue&type=style&index=0&id=65e36e6c&scoped=true&lang=css\"","<template v-if='true'>\r\n  <div class=\"row ms-4 align-items-center\">\r\n    <div class=\"row\">\r\n      <!-- <div class=\"col\">\r\n        <button\r\n        @click=\"goTo('/abrirCaja')\"\r\n        type=\"button\" class=\"btn btn-secondary\r\n          botonesPrincipales w-100 btn-block botonesWidth\"><i class=\"bi bi-unlock-fill iconosBootstrap\"></i>\r\n        </button>\r\n      </div> -->\r\n      <div class=\"col\">\r\n        <router-link to=\"/menu/caja/tickets\" class=\"btn btn-secondary\r\n          botonesPrincipales w-100 btn-block botonesWidth\">\r\n          <!-- <i class=\"bi bi-box-arrow-right iconosBootstrap\"></i> -->\r\n          Tickets\r\n        </router-link>\r\n      </div>\r\n      <div class=\"col\">\r\n        <router-link to=\"/menu/caja/salida\" class=\"btn btn-secondary\r\n          botonesPrincipales w-100 btn-block botonesWidth\">\r\n          <!-- <i class=\"bi bi-box-arrow-right iconosBootstrap\"></i> -->\r\n          Salida de dinero\r\n        </router-link>\r\n      </div>\r\n\r\n      <div class=\"col\">\r\n        <template v-if='NoEntradaDiners'>\r\n        <router-link to=\"\" class=\"btn btn-secondary\r\n          botonesPrincipales w-100 btn-block botonesWidth\">\r\n          <!-- <i class=\"bi bi-box-arrow-in-right iconosBootstrap\"></i> -->\r\n          Opcion no disponible\r\n        </router-link>\r\n        </template>\r\n        <template v-else>\r\n          <router-link to=\"/menu/caja/entrada\" class=\"btn btn-secondary\r\n          botonesPrincipales w-100 btn-block botonesWidth\">\r\n          <!-- <i class=\"bi bi-box-arrow-in-right iconosBootstrap\"></i> -->\r\n          Entrada de dinero\r\n          </router-link>\r\n        </template>\r\n      </div>\r\n\r\n      <div class=\"col\">\r\n        <router-link to=\"/menu/caja/cerrar-caja\" class=\"btn btn-secondary\r\n          botonesPrincipales w-100 h-100 btn-block botonesWidth\">\r\n          <!-- <i class=\"bi bi-lock-fill iconosBootstrap\"></i> -->\r\n          Cerrar caja\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n    <div class='row'>\r\n      <router-view></router-view>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted, computed } from 'vue';\r\nimport DetalleTicket from '@/components/DetalleTicket.vue';\r\nimport SalidaDinero from '@/components/SalidaDinero.vue';\r\nimport EntradaDinero from '@/components/EntradaDinero.vue';\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\nimport { useStore } from 'vuex';\r\nimport router from '../router/index';\r\nimport { useToast } from 'vue-toastification';\r\n\r\nexport default {\r\n  name: 'Caja',\r\n  setup() {\r\n    const activo = ref(null);\r\n    const total = ref(0);\r\n    const listaTickets = ref([]);\r\n    const ticketInfo = ref(null);\r\n    const store = useStore();\r\n    const NoEntradaDiners = ref(false);\r\n\r\n    // function setTicketActivo(ticket, mounted = false) {\r\n    //   if(mounted) ticket = listaTickets.value[listaTickets.value.length-1];\r\n    //   ticketInfo.value = ticket;\r\n    //   activo.value = ticket._id;\r\n    // }\r\n\r\n    function goTo(url) {\r\n      router.push(url);\r\n    }\r\n\r\n    function imprimirTicket() {\r\n      if (activo.value != null) {\r\n        axios.post('impresora/imprimirTicket', { idTicket: activo.value });\r\n        goTo('/');\r\n      } else {\r\n        console.log('Primero selecciona un ticket');\r\n      }\r\n    }\r\n\r\n\r\n    onMounted(() => {\r\n      axios.post('tickets/getTicketsIntervalo').then((arrayTickets) => {\r\n        total.value = 0;\r\n        for (let i = 0; i < arrayTickets.data.length; i += 1) {\r\n          total.value += arrayTickets.data[i].total;\r\n        }\r\n\r\n\r\n        axios.post('parametros/getParametros').then((res) => {\r\n          if(res.data.parametros.NoEntradaDiners != undefined){\r\n            if(res.data.parametros.NoEntradaDiners == 'Si'){\r\n              NoEntradaDiners.value = true;\r\n            }\r\n          }else{\r\n              NoEntradaDiners.value = false;\r\n          }\r\n        })\r\n\r\n\r\n        \r\n        listaTickets.value = arrayTickets.data;\r\n        // setTicketActivo('', true);\r\n      });\r\n    });\r\n    return {\r\n      goTo,\r\n      listaTickets,\r\n      activo,\r\n      total,\r\n      moment,\r\n      ticketInfo,\r\n      imprimirTicket,\r\n      NoEntradaDiners\r\n    };\r\n    /* FINAL SETUP */\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n  .table-responsive {\r\n    height: 80vh;\r\n  }\r\n  .estiloActivoTicketCaja {\r\n    background-color:rgb(255, 221, 176) !important;\r\n  }\r\n  .iconosBootstrap {\r\n    font-size: 30px;\r\n  }\r\n  .botonesWidth {\r\n    width: 5vw;\r\n    border: solid black 1px;\r\n  }\r\n\r\n  .botonesPrincipales{\r\n    background-color: #fff5e9;\r\n    color: #c95907;\r\n    border-color: #bf5c18;\r\n    border-width: 3px;\r\n}\r\n</style>\r\n","import { render } from \"./Caja.vue?vue&type=template&id=65e36e6c&scoped=true\"\nimport script from \"./Caja.vue?vue&type=script&lang=js\"\nexport * from \"./Caja.vue?vue&type=script&lang=js\"\n\nimport \"./Caja.vue?vue&type=style&index=0&id=65e36e6c&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\fvarg\\\\Documents\\\\GitHub\\\\tocFrontend\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-65e36e6c\"]])\n\nexport default __exports__"],"sourceRoot":""}