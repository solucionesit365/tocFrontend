(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a569ba4"],{"13d5":function(t,e,n){"use strict";var o=n("23e7"),a=n("d58f").left,r=n("a640"),c=n("2d00"),i=n("605d"),s=r("reduce"),l=!i&&c>79&&c<83;o({target:"Array",proto:!0,forced:!s||l},{reduce:function(t){var e=arguments.length;return a(this,t,e,e>1?arguments[1]:void 0)}})},"7dd8":function(t,e,n){},"8a55":function(t,e,n){"use strict";n("7dd8")},a640:function(t,e,n){"use strict";var o=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&o((function(){n.call(null,e||function(){throw 1},1)}))}},d58f:function(t,e,n){var o=n("da84"),a=n("59ed"),r=n("7b0b"),c=n("44ad"),i=n("07fa"),s=o.TypeError,l=function(t){return function(e,n,o,l){a(n);var u=r(e),b=c(u),d=i(u),f=t?d-1:0,v=t?-1:1;if(o<2)while(1){if(f in b){l=b[f],f+=v;break}if(f+=v,t?f<0:d<=f)throw s("Reduce of empty array with no initial value")}for(;t?f>=0:d>f;f+=v)f in b&&(l=n(l,b[f],f,u));return l}};t.exports={left:l(!1),right:l(!0)}},f19c:function(t,e,n){"use strict";n.r(e);var o=n("7a23");function a(t,e,n,a,r,c){var i=Object(o["F"])("MesasComponent");return Object(o["x"])(),Object(o["e"])(i)}n("b680"),n("e25e");var r=function(t){return Object(o["A"])("data-v-1f2e28b2"),t=t(),Object(o["y"])(),t},c={class:"container-mesas"},i=["onClick"],s={class:"position-fixed bottom-0 end-0 mb-1 me-2"},l={class:"modal fade",id:"modalNuevaCesta",tabindex:"-1"},u={class:"modal-dialog"},b={class:"modal-content"},d=r((function(){return Object(o["h"])("div",{class:"modal-header"},[Object(o["h"])("h5",{class:"modal-title"},"Crear nueva cesta")],-1)})),f={class:"modal-body"},v={class:"row"},m={class:"col"},O={class:"input-group input-group-lg"},h={class:"row mt-4"},j={class:"col-md-6 text-center"},p={class:"btn-group-vertical"},g={class:"col-md-6 text-center"},C={class:"btn-group-vertical"},k={class:"modal-footer mt-1 mx-auto"};function y(t,e,n,a,r,y){return Object(o["x"])(),Object(o["g"])(o["a"],null,[Object(o["h"])("div",c,[(Object(o["x"])(),Object(o["g"])(o["a"],null,Object(o["D"])(10,(function(t){return Object(o["h"])("div",{key:t,class:"row mt-1"},[(Object(o["x"])(),Object(o["g"])(o["a"],null,Object(o["D"])(10,(function(e){return Object(o["h"])("div",{key:e,class:"col"},[Object(o["h"])("div",{class:Object(o["r"])(["mesaGeneral cardMesa",[{enUso:a.findMesa(e,t).enUso}]]),onClick:function(n){return a.seleccionarCesta(a.findMesa(e,t))}},[Object(o["h"])("p",null,Object(o["I"])(a.findMesa(e,t).nombre),1),Object(o["h"])("p",null,Object(o["I"])(parseInt(a.findMesa(e,t).total).toFixed(2)),1)],10,i)])})),64))])})),64))]),Object(o["h"])("div",s,[Object(o["h"])("button",{onClick:e[0]||(e[0]=function(t){return a.volver()}),class:"btn btn-warning sizeBotones me-2"}," Volver "),Object(o["h"])("button",{type:"button",class:"btn btn-primary sizeBotones",onClick:e[1]||(e[1]=function(t){return a.abrirModal()})},"Inicio")]),Object(o["h"])("div",l,[Object(o["h"])("div",u,[Object(o["h"])("div",b,[d,Object(o["h"])("div",f,[Object(o["h"])("div",v,[Object(o["h"])("div",m,[Object(o["h"])("div",O,[Object(o["R"])(Object(o["h"])("input",{"onUpdate:modelValue":e[2]||(e[2]=function(t){return a.nuevaCestaString=t}),type:"text",class:"form-control",style:{"font-weight":"bold"},"aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-lg"},null,512),[[o["N"],a.nuevaCestaString]])])])]),Object(o["h"])("div",h,[Object(o["h"])("div",j,[Object(o["h"])("div",p,[Object(o["h"])("button",{onClick:e[3]||(e[3]=function(t){return a.addText(" PISO")}),class:"btn btn-secondary mnemoSize border"},"PISO"),Object(o["h"])("button",{onClick:e[4]||(e[4]=function(t){return a.addText(" CASA")}),class:"btn btn-secondary mt-2 mnemoSize border"},"CASA"),Object(o["h"])("button",{onClick:e[5]||(e[5]=function(t){return a.addText(" BARCO")}),class:"btn btn-secondary mt-2 mnemoSize border"},"BARCO"),Object(o["h"])("button",{onClick:e[6]||(e[6]=function(t){return a.addText(" DEVOLUCIÓN")}),class:"btn btn-warning mt-2 mnemoSize border"},"DEVOLUCIÓN")])]),Object(o["h"])("div",g,[Object(o["h"])("div",C,[Object(o["h"])("button",{onClick:e[7]||(e[7]=function(t){return a.addText(" BLANCO")}),style:{background:"#EEEEEE",color:"black"},class:"btn btn-primary mnemoSize border"},"BLANCO"),Object(o["h"])("button",{onClick:e[8]||(e[8]=function(t){return a.addText(" ROJO")}),style:{background:"#E86A6A",color:"black"},class:"btn btn-primary mt-2 mnemoSize border"},"ROJO"),Object(o["h"])("button",{onClick:e[9]||(e[9]=function(t){return a.addText(" AZUL")}),style:{background:"#5399D1",color:"black"},class:"btn btn-primary mt-2 mnemoSize border"},"AZUL"),Object(o["h"])("button",{onClick:e[10]||(e[10]=function(t){return a.addText(" VERDE")}),style:{background:"#76B842",color:"black"},class:"btn btn-warning mt-2 mnemoSize border"},"VERDE")])])])]),Object(o["h"])("div",k,[Object(o["h"])("button",{type:"button",class:"btn btn-danger btn-lg",onClick:e[11]||(e[11]=function(t){return a.cerrarModal()})},"Cerrar"),Object(o["h"])("button",{type:"button",class:"btn btn-secondary btn-lg",onClick:e[12]||(e[12]=function(t){return a.borrarLetra()})},"Borrar")])])])])],64)}n("fb6a"),n("7db0"),n("d3b7"),n("13d5");var x=n("a18c"),M=n("bc3a"),w=n.n(M),A=n("0180"),E=n("5502"),S=n("7b17"),I={name:"MesasComponent",setup:function(){var t=Object(o["C"])(0),e=Object(E["b"])(),n=Object(o["C"])([]),a=Object(A["b"])(),r=Object(o["C"])(""),c=Object(o["c"])((function(){return n.value.length%4>0?parseInt(n.value.length/4)+1:parseInt(n.value.length/4)})),i=null;function s(e){t.value=e}function l(t){r.value+=t}function u(){r.value=r.value.slice(0,-1)}function b(){x["a"].push("/")}function d(t){console.log("Selecionar cesta "),console.log(t.nombre),console.log(t.idMongo),e.dispatch("Cesta/setIdAction",t.idMongo),e.dispatch("CestasActivas/setCestasActivasAction",{idMongo:t.idMongo,nombre:t.nombre}),b()}function f(t,e){var o=t;1!==e&&(o=10*e-(10-t));var a=n.value.find((function(t){return t.nombreCesta==="Mesa ".concat(o)})),r=!!(a&&a.tiposIva.importe1+a.tiposIva.importe2+a.tiposIva.importe3>0);return void 0!==a?{idMongo:a._id,activada:!0,nombre:"Mesa ".concat(o),total:a.lista.reduce((function(t,e){return e.subtotal+t}),0),enUso:r}:{activada:!1,nombre:"",total:"",enUso:r}}function v(t){return void 0!=n.value[t]}function m(t){for(var e=0,o=0;o<n.value[t].lista.length;o++)e+=n.value[t].lista[o].subtotal;return e.toFixed(2)}function O(){w.a.get("cestas/getCestas").then((function(t){0==t.data.error?n.value=t.data.info:a.error(t.data.mensaje)}))["catch"]((function(t){console.log(t),a.error("Error en get > cestas/getCestas")}))}function h(t){n.value.length>1?confirm("Confirma para borrar la cesta")&&w.a.post("cestas/borrarCesta",{id:n.value[t]._id}).then((function(t){1==t.data.okey?(a.success("Cesta borrada"),O()):a.error(t.data.error)}))["catch"]((function(t){console.log(t),a.error("Error, no se ha podido borrar la cesta")})):a.info("¡Debe haber una cesta al menos!")}function j(){i.show()}function p(){O(),i.hide()}return Object(o["v"])((function(){var t=document.getElementById("modalNuevaCesta");null!=t&&(i=new S["a"](t,{keyboard:!1})),O()})),{borrarLetra:u,nuevaCestaString:r,addText:l,borrarCesta:h,abrirModal:j,cerrarModal:p,seleccionarCesta:d,getTotalPosicion:m,existePosicion:v,nRows:c,arrayCestas:n,volver:b,setActivo:s,findMesa:f}}},z=(n("8a55"),n("d959")),T=n.n(z);const B=T()(I,[["render",y],["__scopeId","data-v-1f2e28b2"]]);var R=B,U={name:"Mesas",setup:function(){return{}},components:{MesasComponent:R}};const D=T()(U,[["render",a]]);e["default"]=D}}]);
//# sourceMappingURL=chunk-3a569ba4.a4ad3f0f.js.map